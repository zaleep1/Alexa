<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>üíï</title>

  <style>
    :root {
      --rose: #d63384;
      --bg-overlay: rgba(255,255,255,0.85);
    }
    html,body {
      height: 100%;
      margin: 0;
      font-family: 'Arial', sans-serif;
      background: url('https://img.freepik.com/vector-gratis/tema-san-valentin-corazones-cielo-rosa_1308-38030.jpg?semt=ais_hybrid&w=740') no-repeat center center fixed;
      background-size: cover;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    /* --- BURBUJAS ROM√ÅNTICAS --- */
    #bubbles-text {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .text-bubble {
      position: absolute;
      font-size: 18px;
      font-family: 'Cursive', sans-serif;
      color: #d63384;
      background-color: rgba(255, 255, 255, 0.7);
      padding: 10px 20px;
      border-radius: 25px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      animation: floatText 8s ease-in-out forwards;
      white-space: nowrap;
      opacity: 0;
    }

    @keyframes floatText {
      0% { opacity: 0; transform: scale(0.5) translateY(0px); }
      50% { opacity: 1; transform: scale(1.2) translateY(-50px); }
      100% { opacity: 0; transform: scale(1) translateY(-120px); }
    }

    /* ---- TU CSS ORIGINAL ---- */
    .card {
      width: min(860px, 94vw);
      background: var(--bg-overlay);
      border-radius: 18px;
      padding: 28px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.18);
      text-align: center;
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 18px;
      align-items: center;
      z-index: 10;
    }

    .title {
      font-size: 34px;
      color: var(--rose);
      font-weight: 800;
      margin: 0;
      letter-spacing: .6px;
      transform-origin: center;
      animation: floatTitle 2.6s ease-in-out infinite;
    }

    @keyframes floatTitle {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    .image-wrap {
      width: 320px;
      height: 220px;
      border-radius: 14px;
      overflow: hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(180deg, #fff 0%, #ffeef6 100%);
      box-shadow: 0 10px 22px rgba(214,51,132,0.12);
    }

    .image-wrap img {
      max-width: 100%;
      max-height: 100%;
      display:block;
      object-fit: cover;
      transition: transform .6s ease;
    }

    .image-wrap img.pop {
      transform: scale(1.05);
    }

    .question {
      font-size: 22px;
      color: #333;
      font-weight: 700;
      margin: 6px 0 0 0;
      min-height: 60px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .buttons {
      display:flex;
      gap: 16px;
      align-items:center;
      justify-content:center;
      margin-top: 6px;
    }

    button {
      cursor:pointer;
      border: none;
      border-radius: 999px;
      padding: 12px 22px;
      font-weight: 800;
      font-size: 16px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.12);
      transition: transform .28s cubic-bezier(.2,.9,.3,1), opacity .25s;
    }

    .btn-ola {
      background: linear-gradient(90deg, #ffd1e6, #ff8ab3);
      color: #6b0230;
      padding: 12px 28px;
      font-size: 18px;
    }

    .btn-yes {
      background: linear-gradient(90deg,#ff6fa8,#ff2e6b);
      color: white;
      min-width: 120px;
    }

    .btn-no {
      background: #fff;
      border: 2px solid #ffc6dd;
      color: #d63384;
      min-width: 100px;
    }

    .small-note {
      font-size: 13px;
      color: #8d6f79;
    }

    .btn-no[disabled] {
      opacity: 0.45;
      cursor: not-allowed;
      transform: scale(.98);
    }

    .timed {
      font-style: italic;
      color: #9b3a61;
      font-weight: 700;
    }

    @media (max-width:640px) {
      .image-wrap { width: 260px; height: 180px; }
      .title { font-size: 26px; }
      .question { font-size: 18px; min-height: 56px; }
    }

    .floating-text {
      position: absolute;
      z-index: -1;
      pointer-events:none;
      color: rgba(214,51,132,0.08);
      font-weight: 800;
      font-size: 72px;
      user-select:none;
    }

    .ft1 { top: 8%; left: 6%; transform: rotate(-14deg); }
    .ft2 { bottom: 12%; right: 4%; transform: rotate(10deg); font-size: 90px; }
  </style>
</head>

<body>

  <div id="bubbles-text"></div>

  <div class="card" id="app">

    <h1 class="title" id="title">Ola Mari</h1>

    <div class="image-wrap" id="imageWrap">
      <img id="mainImage" src="1.png" alt="gatito" />
    </div>

    <div class="question" id="questionText">üíå</div>

    <div class="buttons" id="buttonsArea">
      <button class="btn-ola" id="olaBtn">Ola</button>
    </div>

    <div class="small-note" id="note"></div>

    <div class="floating-text ft1">wapa</div>
    <div class="floating-text ft2">tqm</div>
  </div>

<script>
(() => {

  const noTexts = [
    "Como que no üò≠",
    "Estas segura de que no?",
    "Segurisima??? üòî",
    "De vdd?",
    "En serio? üò≠",
    "Acepta üò†"
  ];
  const noImages = ["3.png","4.png","3.png","4.png","3.png","4.png"];

  const welcomeImage = "1.png";
  const sorryImage = "2.png";
  const finalImage = "x.png";

  const timedScreenDurationMs = 5000;
  const maxInsist = noTexts.length;

  const titleEl = document.getElementById('title');
  const mainImage = document.getElementById('mainImage');
  const questionEl = document.getElementById('questionText');
  const buttonsArea = document.getElementById('buttonsArea');
  const noteEl = document.getElementById('note');

  let stage = 0;
  let insistCount = 0;
  let currentNoIndex = 0;

  const toPreload = [welcomeImage, sorryImage, finalImage, ...noImages];
  toPreload.forEach(src => { const img = new Image(); img.src = src; });

  function clearButtons() { buttonsArea.innerHTML = ''; }

  function createButton(className, text, id) {
    const b = document.createElement('button');
    b.className = className;
    b.id = id || '';
    b.textContent = text;
    return b;
  }

  function showInitial() {
    stage = 0;
    titleEl.textContent = "Ola Mari";
    mainImage.src = welcomeImage;
    mainImage.classList.add('pop');
    setTimeout(()=> mainImage.classList.remove('pop'), 700);
    questionEl.textContent = 'üíå';
    noteEl.textContent = '';
    clearButtons();
    const olaBtn = createButton('btn-ola', 'Ola', 'olaBtn');
    olaBtn.addEventListener('click', () => { showTimedApology(); });
    buttonsArea.appendChild(olaBtn);
  }

  function showTimedApology() {
    stage = 1;
    titleEl.textContent = "Perd√≥name por haber tardado en decirtelo...";
    mainImage.src = sorryImage;
    questionEl.innerHTML = '<span class="timed"> </span>';
    noteEl.textContent = '(espera 5 segundos)';
    clearButtons();

    setTimeout(() => { showProposal(); }, timedScreenDurationMs);
  }

  function showProposal() {
    stage = 2;
    insistCount = 0;
    currentNoIndex = 0;
    titleEl.textContent = "Pero no aguanto m√°s";
    mainImage.src = welcomeImage;
    questionEl.textContent = 'Quieres ser mi novia miamorcito?';
    noteEl.textContent = '';
    renderProposalButtons();
  }

  function renderProposalButtons() {
    clearButtons();
    const yesBtn = createButton('btn-yes','S√≠ ‚ù§Ô∏è','yesBtn');
    const noBtn  = createButton('btn-no','No','noBtn');

    applyButtonScales(yesBtn, noBtn, insistCount);

    yesBtn.addEventListener('click', handleYes);
    noBtn.addEventListener('click', handleNo);

    buttonsArea.appendChild(yesBtn);
    buttonsArea.appendChild(noBtn);
  }

  function applyButtonScales(yesBtn, noBtn, insist) {
    const yesScale = Math.min(2, 1 + insist * 0.15);
    const noScale = Math.max(0.5, 1 - insist * 0.12);
    yesBtn.style.transform = `scale(${yesScale})`;
    noBtn.style.transform = `scale(${noScale})`;
  }

  function handleNo() {
    if (insistCount >= maxInsist) {
      const noBtn = document.getElementById('noBtn');
      noBtn.setAttribute('disabled','true');
      noteEl.textContent = "üíî";
      return;
    }

    insistCount++;

    const text = noTexts[currentNoIndex];
    const img = noImages[currentNoIndex];

    questionEl.textContent = text;
    mainImage.src = img;
    mainImage.classList.add('pop');
    setTimeout(()=> mainImage.classList.remove('pop'), 600);

    noteEl.textContent = `Intento ${insistCount} de ${maxInsist}`;

    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    applyButtonScales(yesBtn,noBtn,insistCount);

    currentNoIndex = Math.min(currentNoIndex + 1, noTexts.length - 1);
  }

  function handleYes() {
    stage = 99;
    titleEl.textContent = "üò≠üíñ";
    mainImage.src = finalImage;
    questionEl.textContent = "Dime que si al wasap que no me deja usar json aqui JASJASJ üòî (pa guardar la respuesta)";
    noteEl.textContent = '';
    clearButtons();
  }

  showInitial();

})();
</script>

<!-- BURBUJAS -->
<script>
const bubbleMessages = [
  "‚ù§Ô∏è",
  "üåü",
  "üíï",
  "üíñ",
  "üí´",
  "üíò"
];

function createBubble() {
  const bubble = document.createElement("div");
  bubble.className = "text-bubble";
  bubble.innerText = bubbleMessages[Math.floor(Math.random()*bubbleMessages.length)];

  bubble.style.left = (Math.random()*80 + 10) + "vw";
  bubble.style.top = (Math.random()*70 + 15) + "vh";

  document.getElementById("bubbles-text").appendChild(bubble);

  setTimeout(() => bubble.remove(), 8000);
}

setInterval(createBubble, 2500);
</script>

</body>
</html>
