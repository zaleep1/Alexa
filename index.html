<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ’Œ</title>

<style>
:root{
  --rose:#d63384;
  --paper:#fffdf7;
}

html,body{
  margin:0;
  height:100%;
  font-family:Arial,sans-serif;
  background:url('x.png') center/cover fixed no-repeat;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}

/* ğŸŒ¸ BURBUJAS */
#bubbles{
  position:absolute;
  inset:0;
  pointer-events:none;
}
.bubble{
  position:absolute;
  font-size:20px;
  background:rgba(255,255,255,.7);
  padding:8px 16px;
  border-radius:30px;
  animation:float 8s forwards;
}
@keyframes float{
  0%{opacity:0;transform:scale(.6)}
  50%{opacity:1;transform:scale(1.2) translateY(-50px)}
  100%{opacity:0;transform:translateY(-120px)}
}

/* ğŸ’Œ CONTENEDOR */
.wrapper{
  position:relative;
  width:380px;
  height:90vh;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:1.5s ease;
}

/* cuando el papel sale, la carta baja */
.wrapper.lower{
  transform:translateY(120px);
}

/* ğŸ“œ PAPEL */
.paper{
  position:absolute;
  bottom:160px;
  width:92%;
  max-height:0;
  overflow:hidden;
  background:var(--paper);
  border-radius:18px;
  box-shadow:0 15px 30px rgba(0,0,0,.25);
  transition:1.4s ease;
  z-index:3;
}

.paper.show-question{
  max-height:200px;
}

.paper.show-full{
  max-height:75vh;
}

.paper-inner{
  padding:32px 26px;
  text-align:center;
  position:relative;
}

.question{
  font-size:22px;
  font-weight:800;
  color:#333;
  margin-bottom:18px;
}

/* ğŸŒ· TULIPANES EN EL PAPEL */
.tulip{
  position:absolute;
  width:48px;
  opacity:.9;
}
.tl{top:10px; left:10px}
.tr{top:10px; right:10px; transform:scaleX(-1)}
.bl{bottom:10px; left:10px}
.br{bottom:10px; right:10px; transform:scaleX(-1)}

/* BOTONES */
.buttons{
  display:flex;
  gap:12px;
  justify-content:center;
}

button{
  border:none;
  border-radius:999px;
  padding:10px 24px;
  font-weight:800;
  cursor:pointer;
  transition:.3s;
}

.btn-yes{
  background:linear-gradient(90deg,#ff6fa8,#ff2e6b);
  color:white;
}
.btn-no{
  background:white;
  border:2px solid #ffc6dd;
  color:var(--rose);
}

/* ğŸ’– TEXTO FINAL */
.final{
  display:none;
  margin-top:20px;
  font-size:15px;
}

/* âœ‰ï¸ SOBRE */
.envelope{
  width:100%;
  height:160px;
  background:#ffe3ef;
  border-radius:16px;
  position:absolute;
  bottom:0;
  box-shadow:0 15px 30px rgba(0,0,0,.3);
  z-index:2;
}

.flap{
  position:absolute;
  inset:0;
  background:#ffd1e6;
  clip-path:polygon(0 0,50% 55%,100% 0,100% 100%,0 100%);
  transform-origin:top;
  transition:1s;
  z-index:4;
}

.envelope.open .flap{
  transform:rotateX(180deg);
}

/* ğŸ’– SELLO */
.seal{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:70px;
  height:70px;
  border-radius:50%;
  background:linear-gradient(145deg,#ff6fa8,#ff2e6b);
  color:white;
  font-size:28px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(0,0,0,.3);
  z-index:5;
}
</style>
</head>

<body>

<div id="bubbles"></div>

<audio id="music" src="music.mp3" loop></audio>
<audio id="clickSound" src="boton.mp3"></audio>

<div class="wrapper" id="wrapper">

  <!-- PAPEL -->
  <div class="paper" id="paper">
    <div class="paper-inner">

      <!-- tulipanes -->
      <img src="tulipan.png" class="tulip tl">
      <img src="tulipan.png" class="tulip tr">
      <img src="tulipan.png" class="tulip bl">
      <img src="tulipan.png" class="tulip br">

      <div class="question">
        Â¿Quieres ser mi San ValentÃ­n? ğŸ’˜
      </div>

      <div class="buttons" id="buttons">
        <button class="btn-yes" id="yesBtn">SÃ­ ğŸ’–</button>
        <button class="btn-no" id="noBtn">No</button>
      </div>

      <div class="final" id="final">
        <p>
          Amor, esta carta es una pequeÃ±a prueba de todo lo que siento por ti.
          Gracias por llegar a mi vida y hacerla mÃ¡s bonita cada dÃ­a ğŸŒ·ğŸ’•
        </p>
      </div>

    </div>
  </div>

  <!-- SOBRE -->
  <div class="envelope" id="envelope">
    <div class="flap"></div>
    <div class="seal" id="seal">â¤ï¸</div>
  </div>

</div>

<script>
/* ğŸŒ¸ BURBUJAS */
const emojis=["â¤ï¸","ğŸ’–","ğŸ’•","ğŸ’˜","ğŸŒ·"];
setInterval(()=>{
  const b=document.createElement("div");
  b.className="bubble";
  b.innerText=emojis[Math.floor(Math.random()*emojis.length)];
  b.style.left=Math.random()*80+"vw";
  b.style.top=Math.random()*70+"vh";
  document.getElementById("bubbles").appendChild(b);
  setTimeout(()=>b.remove(),8000);
},2500);

/* ğŸ”Š SONIDOS */
const music=document.getElementById("music");
const clickSound=document.getElementById("clickSound");
function click(){
  clickSound.currentTime=0;
  clickSound.play();
}

/* ğŸ’Œ LÃ“GICA */
let noCount=0;
const maxNo=6;

const seal=document.getElementById("seal");
const envelope=document.getElementById("envelope");
const paper=document.getElementById("paper");
const wrapper=document.getElementById("wrapper");
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const buttons=document.getElementById("buttons");
const final=document.getElementById("final");

seal.onclick=()=>{
  click();
  envelope.classList.add("open");
  paper.classList.add("show-question");
  wrapper.classList.add("lower");
  seal.style.display="none";
  music.play();
};

noBtn.onclick=()=>{
  click();
  noCount++;
  noBtn.style.transform=`scale(${1-noCount*0.15})`;
  yesBtn.style.transform=`scale(${1+noCount*0.15})`;
  if(noCount>=maxNo){
    noBtn.disabled=true;
    noBtn.style.opacity=.3;
  }
};

yesBtn.onclick=()=>{
  click();
  buttons.style.display="none";
  final.style.display="block";
  paper.classList.add("show-full");
};
</script>

</body>
</html>
